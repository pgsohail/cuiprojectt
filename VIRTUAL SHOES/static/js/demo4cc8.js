"use strict";let mySwiper,dressUrl="/static/img/demo/dresses/",selectedItem="",selectedSize="",sentParams=new Set,currentSlide=0,objectPreset=null;wearfits.wearfitsLogoUrl=null,wearfits.showRayTracingButton=!1,wearfits.showMaterialPresets=!0,wearfits.sizeSelectionType="expanded",wearfits.shopID="Demo";let shop=new URL(window.location.href).searchParams.get("shop")||"",products=[];function getProducts(){if("fitting-room"===viewType)switch(shop.toLowerCase()){case"indigo":return wearfits.setGenderInput("w",!0),[{image:"Indigo.png",name:"Indigo v2"}];case"iguanamed":return wearfits.setGenderInput("w",!0),[{image:"Iguanamed woman set.png",name:"Iguanamed woman set"}];case"playfiks":return wearfits.setGenderInput(null,!1),"m"===wearfits.userParams.gender?[{image:"Playfiks man.png",name:"Playfiks man"}]:[{image:"Playfiks woman.png",name:"Playfiks woman"}];case"burda":return wearfits.setGenderInput("w",!0),[{image:"Burda6.png",name:"Burda6"},{image:"Burda8.png",name:"Burda8"},{image:"Burda9.png",name:"Burda9"},{image:"Burda3.png",name:"Burda3"},{image:"Burda3B.png",name:"Burda3B"},{image:"Burda4.png",name:"Burda4"}];case"mariezelie":return wearfits.setGenderInput("w",!0),[{image:"Rita.png",name:"Rita"},{image:"Melia.png",name:"Melia"},{image:"Nela.png",name:"Nela"},{image:"Eunika.png",name:"Eunika"},{image:"Lovoa.png",name:"Lovoa"}];default:return wearfits.setGenderInput(null,!1),"m"===wearfits.userParams.gender?[{image:"4f TSM-902 SPMD901.png",name:"4f TSM-902 SPMD901"}]:[{image:"Burda6.png",name:"Burda6"},{image:"Burda8.png",name:"Burda8"},{image:"Burda9.png",name:"Burda9"},{image:"Rita.png",name:"Rita"},{image:"Burda3.png",name:"Burda3"},{image:"Burda3B.png",name:"Burda3B"},{image:"Burda4.png",name:"Burda4"},{image:"Indigo.png",name:"Indigo v2"}]}else if("footwear"===viewType)return[{image:"CH_D_010-PD_002_PD_TEX_001.CH_D_010_R_CH_TEX_001.png",names:["CH_D_010_R","CH_D_010-PD_002"]},{image:"CH_M_004-PD_002_PD_TEX_001.CH_M_004_L_CH_TEX_001.png",names:["CH_M_004_L","CH_M_004-PD_002"]},{image:"CH_D_005-PD_001_PD_TEX_001.CH_D_005_L_CH_TEX_003.png",names:["CH_D_005_L","CH_D_005-PD_001"],preset:"CH_TEX_003"},{image:"e84bc8b8afb5e6973556e376f0b942ab_default.png",names:["e84bc8b8afb5e6973556e376f0b942ab"]},{image:"029acd8a9d9165a45f06f4c640c5c911_default.png",names:["029acd8a9d9165a45f06f4c640c5c911"]},{image:"05969ca519bb4cef1738d7f92af5d597_default.png",names:["05969ca519bb4cef1738d7f92af5d597"]},{image:"9557c37f867d9c4b0186dacf5aa2459c_default.png",names:["9557c37f867d9c4b0186dacf5aa2459c"]},{image:"CH_M_001-PD_003_PD_TEX_001.CH_M_001_L_CH_TEX_006_FADE.png",names:["CH_M_001_L","CH_M_001-PD_003"],preset:"CH_TEX_006_FADE"}]}function updateProducts(){if((products=getProducts()).length){document.getElementsByClassName("swiper-wrapper")[0].innerHTML="",mySwiper=new Swiper(".swiper-container",{slidesPerView:1,spaceBetween:50,grabCursor:!0,observer:!0,observeParents:!0,initialSlide:products.length>3?3:0,centeredSlides:!0,loop:!0,loopedSlides:products.length,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{800:{slidesPerView:products.length>=3?3:1}}});for(let e in products){let a='<div class="swiper-slide"><img class="item" src="'+dressUrl+products[e].image+'"></div>';mySwiper.appendSlide(a)}mySwiper.update()}}function updateUrl(){var e={};for(let a of new URL(window.location.href).searchParams.entries())e[a[0]]=a[1];"footwear"===viewType?(e.objects=selectedItem.names.join(","),e.preset=wearfits.object.preset):(wearfits.current_garment_name&&(e.garment=wearfits.current_garment_name),wearfits.current_garment_size&&(e.size=wearfits.current_garment_size),wearfits.current_garment_preset&&(e.preset=wearfits.current_garment_preset));let a="?";for(let t in e)a+=t+"="+e[t]+"&";a=a.slice(0,-1),window.history.replaceState(currentSlide,"",a)}function load_objects(e,a){wearfits.pauseRendering=!0;let t=[];for(let r=0;r<e.length;++r){let s=e[r];t.push(wearfits.load(s,{index:r,noFocus:!!r,preset:a}))}return Promise.all(t).then(()=>{wearfits.pauseRendering=!1;for(let a=e.length;a<wearfits.objects.length;++a)wearfits.removeObject(wearfits.objects[a])})}"fitting-room"===viewType&&wearfits.connectWebsocketFittingRoom("demo"),window.addEventListener("popstate",function(e){let a=e.state;null!==a&&$('[data-slide-to="'+a+'"]').click()},!1),wearfits.addEventListener("object_load",function(e){}),wearfits.addEventListener("material_set_load",function(e,a){wearfits.current_garment_preset=a}),jQuery(async function(e){if("index"===viewType)return;"footwear"===viewType?window.history.pushState(1,"",""):window.history.pushState(0,"","");let a=e("#carouselWF");if(a.on("slid.bs.carousel",async function(a){let t=e(".pag-prev"),r=e(".pag-next"),s=e(".pag-1"),i=e(".pag-2"),n=e(".pag-3");switch(currentSlide=a.to,a.to){case 0:t.removeClass("disabled").addClass("disabled"),r.removeClass("disabled"),s.removeClass("pag-visited").addClass("pag-active"),i.removeClass("pag-active").removeClass("pag-visited"),n.removeClass("pag-active"),window.history.state<a.to&&window.history.pushState(a.to,"","");break;case 1:t.removeClass("disabled"),r.removeClass("disabled"),s.removeClass("pag-active").addClass("pag-visited"),i.removeClass("pag-visited").addClass("pag-active"),n.removeClass("pag-active"),window.history.state<a.to&&window.history.pushState(a.to,"","");break;case 2:t.removeClass("disabled"),r.removeClass("disabled").addClass("disabled"),s.removeClass("pag-active").addClass("pag-visited"),i.removeClass("pag-active").addClass("pag-visited"),n.removeClass("pag-visited").addClass("pag-active"),window.history.state<a.to&&window.history.pushState(a.to,"",""),selectedItem=products[mySwiper.realIndex],"fitting-room"===viewType?(wearfits.current_garment_name=selectedItem.name,await wearfits.getGarmentDataFromServer(wearfits.current_garment_name),wearfits.current_garment_size=wearfits.getCorrectSize(wearfits.current_garment_name,wearfits.current_garment_size),wearfits.showSizeButtons(),wearfits.current_avatar_hash=wearfits.getAvatarHash(wearfits.userParams.height,wearfits.userParams.chest,wearfits.userParams.waist,wearfits.userParams.buttock),wearfits.loadAvatarAndGarment(wearfits.current_avatar_hash,wearfits.current_garment_name,wearfits.current_garment_size)):"footwear"===viewType&&(load_objects(selectedItem.names,objectPreset||selectedItem.preset),objectPreset=null),wearfits.canvasResize()}}),a.carousel("pause"),updateProducts(),e(document).on("click",".item",function(){var a=e(this).parent().attr("data-swiper-slide-index");mySwiper.slideTo(a),e('[data-slide-to="2"]').click()}),e("#wearfits_avatar_gender_woman").on("change",updateProducts),e("#wearfits_avatar_gender_man").on("change",updateProducts),wearfits.isTouchOnlyDevice)try{for(var t in document.styleSheets)try{var r=document.styleSheets[t];if(!r.rules)continue;for(var s=r.rules.length-1;s>=0;s--)r.rules[s].selectorText&&r.rules[s].selectorText.match(":hover")&&r.deleteRule(s)}catch(e){}}catch(e){}}),"footwear"===viewType&&wearfits.addEventListener("object_load",function(e){window.wearfits_tryon_button&&(window.wearfits_tryon_button.style.display=e.tryonReady?"":"none"),e.material_sets=e.material_sets.filter(e=>!e.name.includes("_FADE"))});