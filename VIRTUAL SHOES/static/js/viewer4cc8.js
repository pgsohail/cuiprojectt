let url_object=new URL(window.location.href),url_object_lower=new URL(window.location.href.toLowerCase()),url_objects_string=url_object.searchParams.get("object")||url_object.searchParams.get("objects")||url_object.searchParams.get("name")||"";switch(wearfits.enableQuickAR=!0,wearfits.enableKeyShortcuts=!0,wearfits.debugMode&&(wearfits.showRayTracingButton=!0,wearfits.showQualityButtons=!wearfits.isSmallDevice),shop){case"4f":wearfits.showRayTracingButton=!1,wearfits.showQualityButtons=!1,wearfits.showRotationButton=!1,wearfits.horizontal_buttons_group&&(wearfits.horizontal_buttons_group.style.top="0px");break;case"ccc":window.ccc_loader.style.display="",wearfits.showRayTracingButton=!1,wearfits.showQualityButtons=!1,wearfits.showMaterialPresets=!1,wearfits.showARButton=!1,wearfits.loaderBackground=!1,wearfits.showLoader=!1,wearfits.showTryonButton=!1,wearfits.background="linear-gradient(90deg, #e1e1ed, #d8d8f2)",wearfits.wearfitsLogoUrl=null,wearfits.zoomFactor=1.1,wearfits.magFilter=THREE.LinearFilter,wearfits.minFilter=THREE.LinearFilter,wearfits.generateMipmaps=!1,wearfits.languageDictonary.loading_3d_model={en:"Loading 3D model",pl:"Przygotowujemy model 3D"},wearfits.setLanguage(),wearfits.addEventListener("scene_load",async function(){window.ccc_loader.style.display="none";let e=new THREE.Vector3(3,1,1),t=new THREE.Vector3(-3,1,1),a=new THREE.Vector3(0,1,3);await wearfits.lerpCameraFixed(e,60,.02,-1e-4),await wearfits.lerpCameraFixed(t,120,.03,-1e-4),await wearfits.lerpCameraFixed(a,120,.001,5e-4)})}const objects=wearfits.decodeNameAndPresetComposition(url_objects_string),loadPromises=[];0===objects.length&&(window.isEditor||objects.push({url:"figurka_wearfits"}));for(let e=0;e<objects.length;++e){objects[e].index=e,objects[e].hidden=!0;let t=wearfits.load(objects[e].url,objects[e]);loadPromises.push(t)}function updateUrl(){var e={};for(let t of new URL(window.location.href).searchParams.entries())e[t[0]]=t[1];if(e.object&&e.object.includes("/"))return;let t=encodeURIComponent(wearfits.getSceneName())||e.object;t&&(e.object=t);let a="?";for(let t in e)a+=t+"="+e[t]+"&";a=a.slice(0,-1),window.history.pushState(wearfits.current_avatar_hash+wearfits.current_garment_preset+wearfits.current_garment_size,"",a)}Promise.all(loadPromises).then(()=>{for(let e of wearfits.getAllMeshes())e.visible=!0}),wearfits.addEventListener("scene_load",function(e){updateUrl(),window.wf_editor&&wearfits.setSelectedMaterialAny()}),wearfits.addEventListener("material_set_load",function(e,t){updateUrl()}),wearfits.addEventListener("upload_material_finish",function(e){wearfits.getMaterials(e,e.preset,!0).then(()=>{wearfits.updatePresetImages(),wearfits.updateQRCode(),updateUrl()})});